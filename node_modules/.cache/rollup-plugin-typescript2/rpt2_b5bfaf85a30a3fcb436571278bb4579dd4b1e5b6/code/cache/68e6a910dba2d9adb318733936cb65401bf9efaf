{"code":"import { NExpression } from \"../expression\";\r\nimport { NNode } from \"./nnode\";\r\nimport { NParallelNode } from \"./nparallelnode\";\r\nexport class NSecquenceNode extends NNode {\r\n    constructor(cfg, process) {\r\n        super(cfg, process);\r\n        this.src = cfg.src;\r\n        this.dst = cfg.dst;\r\n        if (cfg.cond) {\r\n            this.expr = new NExpression(cfg.cond);\r\n        }\r\n    }\r\n    run() {\r\n        const node = this.process.getNode(this.dst);\r\n        if (!node) {\r\n            throw '目标节点不存在';\r\n        }\r\n        //并行网关，不执行条件\r\n        if (node instanceof NParallelNode) {\r\n            node.run();\r\n        }\r\n        else if (!this.expr || this.expr.val(this.process.getParam())) {\r\n            node.run();\r\n        }\r\n        return true;\r\n    }\r\n}\r\n//# sourceMappingURL=nsequencenode.js.map","references":["/Users/leiyang/develop/codework/jswork/npageflow/core/expression.ts","/Users/leiyang/develop/codework/jswork/npageflow/core/npageprocess.ts","/Users/leiyang/develop/codework/jswork/npageflow/core/node/nnode.ts","/Users/leiyang/develop/codework/jswork/npageflow/core/node/nparallelnode.ts"],"map":"{\"version\":3,\"file\":\"nsequencenode.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../core/node/nsequencenode.ts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,EAAE,WAAW,EAAE,MAAM,eAAe,CAAC;AAE5C,OAAO,EAAE,KAAK,EAAE,MAAM,SAAS,CAAC;AAChC,OAAO,EAAE,aAAa,EAAE,MAAM,iBAAiB,CAAC;AAEhD,MAAM,OAAO,cAAe,SAAQ,KAAK;IAgBrC,YAAY,GAAG,EAAC,OAAoB;QAChC,KAAK,CAAC,GAAG,EAAC,OAAO,CAAC,CAAC;QACnB,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC;QACnB,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC;QACnB,IAAG,GAAG,CAAC,IAAI,EAAC;YACR,IAAI,CAAC,IAAI,GAAG,IAAI,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;SACzC;IACL,CAAC;IAED,GAAG;QACC,MAAM,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAC5C,IAAG,CAAC,IAAI,EAAC;YACL,MAAM,SAAS,CAAC;SACnB;QACD,YAAY;QACZ,IAAG,IAAI,YAAY,aAAa,EAAC;YAC7B,IAAI,CAAC,GAAG,EAAE,CAAC;SACd;aAAK,IAAG,CAAC,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,EAAC;YAC1D,IAAI,CAAC,GAAG,EAAE,CAAC;SACd;QACD,OAAO,IAAI,CAAC;IAChB,CAAC;CACJ\"}","dts":{"name":"/Users/leiyang/develop/codework/jswork/npageflow/node_modules/.cache/rollup-plugin-typescript2/placeholder/core/node/nsequencenode.d.ts","writeByteOrderMark":false,"text":"import { NExpression } from \"../expression\";\r\nimport { NPageProcess } from \"../npageprocess\";\r\nimport { NNode } from \"./nnode\";\r\nexport declare class NSecquenceNode extends NNode {\r\n    /**\r\n     * 表达式处理器\r\n     */\r\n    expr: NExpression;\r\n    /**\r\n     * 源节点\r\n     */\r\n    src: string;\r\n    /**\r\n     * 目标节点\r\n     */\r\n    dst: string;\r\n    constructor(cfg: any, process: NPageProcess);\r\n    run(): boolean;\r\n}\r\n"}}
